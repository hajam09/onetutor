{% extends "accounts/account_base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/tab_pane.css' %}" />
<style type="text/css">
	.pass_show{position:relative}.pass_show .ptxt{position:absolute;top:71%;right:10px;z-index:1;color:#f36c01;margin-top:-10px;cursor:pointer;transition:.3s ease all}.pass_show .ptxt:hover{color:#333}.qaSubjects{margin:-13px 10px 10px 0;font-size:12px;padding:3px 8px;border-radius:4px;text-align:center;color:#fff;background-color:#000;opacity:.64}.mtgtlDwEfX{font-size:12px;padding:3px 8px;border-radius:4px;text-align:center;color:#fff;background-color:#000;opacity:.64}body{color:#000}.ui-w-80{width:100px!important;height:auto}.btn-default{border-color:rgba(24,28,33,.1);background:rgba(0,0,0,0);color:#4e5155}label.btn{margin-bottom:0}.btn-outline-primary{border-color:#26b4ff;background:0 0;color:#26b4ff}.btn{cursor:pointer}.text-light{color:#babbbc!important}.account-settings-fileinput{position:absolute;visibility:hidden;width:1px;height:1px;opacity:0}

	@media (min-width: 1200px) {
		.container {
			width: 1600px;
		}
		.wrapper {
			width: 75%;
		}
	}
</style>
<div class="wrapper" style="margin: auto;">
	<br>
	<div class="container-fluid">
		<div class="row">
			{% if message %} {% if alert %}
			<div style="color: black; text-align: center;"
				class="alert {{alert}}" role="alert">{{message}}
			</div>
			{% endif %} {% endif %}
			<div class="col-lg-12">
				<!-- Nav tabs -->
				<div class="card">
					<ul class="nav nav-tabs" role="tablist">
						{% if activeAccountTab %}
						<li role="presentation" class="nav-item"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"
							class="nav-link"><span>Profile</span></a>
						</li>
						{% else %}
						<li role="presentation" class="active nav-item"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"
							class="nav-link"><span>Profile</span></a>
						</li>
						{% endif %}
						<li role="presentation" class="nav-item"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"
							class="nav-link"><span>Q &amp; A</span></a>
						</li>
						<li role="presentation" class="nav-item"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab"
							class="nav-link"><span>My Students</span></a>
						</li>
						{% if activeAccountTab %}
						<li role="presentation" class="active nav-item"><a href="#account" aria-controls="settings" role="tab" data-toggle="tab"
							class="nav-link"><span>Account</span></a>
						</li>
						{% else %}
						<li role="presentation" class="nav-item"><a href="#account" aria-controls="settings" role="tab" data-toggle="tab"
							class="nav-link"><span>Account</span></a>
						</li>
						{% endif %}
					</ul>
					<!-- Tab panes -->
					<div class="tab-content">
						{% if activeAccountTab %}
						<div role="tabpanel" class="tab-pane" id="profile">
							{% else %}
							<div role="tabpanel" class="tab-pane active" id="profile">
								{% endif %} <a class="btn btn-primary float-right" href="{% url 'accounts:tutorprofileedit' %}"
									role="button">Edit my Profile</a>
								<div>
									<h3>About</h3>
									<p>{{ tutorProfile.about|linebreaksbr }}</p>
								</div>
								<hr>
								<br>
								<div>
									<h3>Education</h3>
									<div>
										{% for key,value in tutorProfile.education.items %}
										<div style="display: flex; flex-direction: row; align-items: flex-start; justify-content: flex-start; margin-bottom: 15px;">
											<img src="https://www.iconfinder.com/data/icons/building-1/512/build2-512.png"
												style="width: 50px; height: 50px; margin-right: 13px; -o-object-fit: contain; object-fit: contain; border-radius: 4px;">
											<div style="flex: 1 1; flex-direction: column;">
												<b style="margin-bottom: 5px;">{{value.school_name}}</b>
												<p style="margin-bottom: 0;">{{value.qualification}} ({{value.year}})</p>
											</div>
										</div>
										{% endfor %}
									</div>
								</div>
								<hr>
								<br>
								<div>
									<div class="row">
										<div class="col-sm-6">
											<h3 for="availability">Availability</h3>
											<table class="table" id="availabilitySchedule" style="width: auto;">
												<thead>
													<tr>
														<th scope="col"></th>
														<th scope="col">Morning</th>
														<th scope="col">Afternoon</th>
														<th scope="col">Evening</th>
													</tr>
												</thead>
												<tbody>
													{% for key,value in tutorProfile.availability.items %}
													<tr>
														<th style="vertical-align: middle;" scope="row">{{key|title}}</th>
														<td style="text-align: center">
															{% if value.morning %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-success" disabled> <i class="fas fa-check"></i>
																</label>
															</div>
															{% else %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-danger" disabled> <i class="fas fa-times"></i>
																</label>
															</div>
															{% endif %}
														</td>
														<td style="text-align: center">
															{% if value.afternoon %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-success" disabled> <i class="fas fa-check"></i>
																</label>
															</div>
															{% else %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-danger" disabled> <i class="fas fa-times"></i>
																</label>
															</div>
															{% endif %}
														</td>
														<td style="text-align: center">
															{% if value.evening %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-success" disabled> <i class="fas fa-check"></i>
																</label>
															</div>
															{% else %}
															<div class="btn-group" data-toggle="buttons">
																<label class="btn btn-danger" disabled> <i class="fas fa-times"></i>
																</label>
															</div>
															{% endif %}
														</td>
													</tr>
													{% endfor %}
												</tbody>
											</table>
										</div>
										<div class="col-sm-6">
											<h3>Subjects</h3>
											<div style="display: flex; flex-flow: row wrap;" id="list_of_subjects">
												<!-- {% for subject in tutorProfile.subjects %} <a href="" style="margin:
													0 10px 10px 0;">
													
													<dir class="mtgtlDwEfX">
													
													{{ subject }}
													
													</dir>
													
													</a>
													
													{% endfor %} -->
											</div>
										</div>
									</div>
								</div>
								<hr>
							</div>
							<div role="tabpanel" class="tab-pane" id="messages" style="overflow-y: scroll; height:938px;">
								{% if questionAndAnswers %} {% for qa in questionAndAnswers %}
								<div class="container">
									<div id="question_answer_id_{{qa.id}}"> <a href="#" class="qaSubjects">{{ qa.subject }}</a>{{ qa.questioner.first_name
										}} {{ qa.questioner.last_name }} asked a question at {{ qa.date }}
									</div>
									<br>
									<div><strong>{{ qa.question|linebreaksbr }}</strong>
									</div>
									<br>
									<div style="width: 970px;">{{ qa.answer|linebreaksbr }}</div>
									<br> <span class="glyphicon glyphicon-thumbs-up"></span> ({{qa.likes.count}})
									<span
										class="glyphicon glyphicon-thumbs-down"></span>({{qa.dislikes.count}})
									<br>
									<br>
								</div>
								<hr>
								{% endfor %} {% endif %}
							</div>
							<div role="tabpanel" class="tab-pane" id="settings">Lorem Ipsum is simply dummy text of the printing and typesetting industry.
								Lorem Ipsum has been the industry&apos;s standard dummy text ever since
								the 1500s, when an unknown printer took a galley of type and scrambled
								it to make a type specimen book. It has survived not only five centuries,
								but also the leap into electronic typesetting, remaining essentially unchanged.
								It was popularised in the 1960s with the release of Letraset sheets containing
								Lorem Ipsum passage..
							</div>
							{% if activeAccountTab %}
							<div role="tabpanel" class="tab-pane active" id="account">
								{% else %}
								<div role="tabpanel" class="tab-pane" id="account">
									{% endif %}
									Account Tab
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function () {
		$('.pass_show').append('<span class="ptxt">Show</span>');
	  update_subjects();
	});


	$(document).on('click', '.pass_show .ptxt', function () {

		$(this).text($(this).text() == "Show" ? "Hide" : "Show");

		$(this).prev().attr('type', function (index, attr) {
			return attr == 'password' ? 'text' : 'password';
		});

	});

   function update_subjects() {
	  {% for subject in tutorProfile.subjects %}
		 var subject_name = "{{subject}}".replace(/\s+/g, '-');
		 var subject_item = `
			<a href="/subject_tag/`+subject_name+`" style="margin: 0 10px 10px 0;">
				<dir class="mtgtlDwEfX">
				  {{ subject }}
				</dir>
			</a>
		 `;
		 $( "#list_of_subjects" ).append( subject_item );
	  {% endfor %}
   }

   
</script>
{% endblock %}